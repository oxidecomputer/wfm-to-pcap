// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at https://mozilla.org/MPL/2.0/.

/// 8b/10b code-group
///
/// Based on Tables 36-1a,b,c,d,e and 36-2 in IEEE 802.3-2015
#[derive(Copy, Clone, Debug, Eq, PartialEq)]
pub enum Codegroup {
    D0_0,
    D1_0,
    D2_0,
    D3_0,
    D4_0,
    D5_0,
    D6_0,
    D7_0,
    D8_0,
    D9_0,
    D10_0,
    D11_0,
    D12_0,
    D13_0,
    D14_0,
    D15_0,
    D16_0,
    D17_0,
    D18_0,
    D19_0,
    D20_0,
    D21_0,
    D22_0,
    D23_0,
    D24_0,
    D25_0,
    D26_0,
    D27_0,
    D28_0,
    D29_0,
    D30_0,
    D31_0,
    D0_1,
    D1_1,
    D2_1,
    D3_1,
    D4_1,
    D5_1,
    D6_1,
    D7_1,
    D8_1,
    D9_1,
    D10_1,
    D11_1,
    D12_1,
    D13_1,
    D14_1,
    D15_1,
    D16_1,
    D17_1,
    D18_1,
    D19_1,
    D20_1,
    D21_1,
    D22_1,
    D23_1,
    D24_1,
    D25_1,
    D26_1,
    D27_1,
    D28_1,
    D29_1,
    D30_1,
    D31_1,
    D0_2,
    D1_2,
    D2_2,
    D3_2,
    D4_2,
    D5_2,
    D6_2,
    D7_2,
    D8_2,
    D9_2,
    D10_2,
    D11_2,
    D12_2,
    D13_2,
    D14_2,
    D15_2,
    D16_2,
    D17_2,
    D18_2,
    D19_2,
    D20_2,
    D21_2,
    D22_2,
    D23_2,
    D24_2,
    D25_2,
    D26_2,
    D27_2,
    D28_2,
    D29_2,
    D30_2,
    D31_2,
    D0_3,
    D1_3,
    D2_3,
    D3_3,
    D4_3,
    D5_3,
    D6_3,
    D7_3,
    D8_3,
    D9_3,
    D10_3,
    D11_3,
    D12_3,
    D13_3,
    D14_3,
    D15_3,
    D16_3,
    D17_3,
    D18_3,
    D19_3,
    D20_3,
    D21_3,
    D22_3,
    D23_3,
    D24_3,
    D25_3,
    D26_3,
    D27_3,
    D28_3,
    D29_3,
    D30_3,
    D31_3,
    D0_4,
    D1_4,
    D2_4,
    D3_4,
    D4_4,
    D5_4,
    D6_4,
    D7_4,
    D8_4,
    D9_4,
    D10_4,
    D11_4,
    D12_4,
    D13_4,
    D14_4,
    D15_4,
    D16_4,
    D17_4,
    D18_4,
    D19_4,
    D20_4,
    D21_4,
    D22_4,
    D23_4,
    D24_4,
    D25_4,
    D26_4,
    D27_4,
    D28_4,
    D29_4,
    D30_4,
    D31_4,
    D0_5,
    D1_5,
    D2_5,
    D3_5,
    D4_5,
    D5_5,
    D6_5,
    D7_5,
    D8_5,
    D9_5,
    D10_5,
    D11_5,
    D12_5,
    D13_5,
    D14_5,
    D15_5,
    D16_5,
    D17_5,
    D18_5,
    D19_5,
    D20_5,
    D21_5,
    D22_5,
    D23_5,
    D24_5,
    D25_5,
    D26_5,
    D27_5,
    D28_5,
    D29_5,
    D30_5,
    D31_5,
    D0_6,
    D1_6,
    D2_6,
    D3_6,
    D4_6,
    D5_6,
    D6_6,
    D7_6,
    D8_6,
    D9_6,
    D10_6,
    D11_6,
    D12_6,
    D13_6,
    D14_6,
    D15_6,
    D16_6,
    D17_6,
    D18_6,
    D19_6,
    D20_6,
    D21_6,
    D22_6,
    D23_6,
    D24_6,
    D25_6,
    D26_6,
    D27_6,
    D28_6,
    D29_6,
    D30_6,
    D31_6,
    D0_7,
    D1_7,
    D2_7,
    D3_7,
    D4_7,
    D5_7,
    D6_7,
    D7_7,
    D8_7,
    D9_7,
    D10_7,
    D11_7,
    D12_7,
    D13_7,
    D14_7,
    D15_7,
    D16_7,
    D17_7,
    D18_7,
    D19_7,
    D20_7,
    D21_7,
    D22_7,
    D23_7,
    D24_7,
    D25_7,
    D26_7,
    D27_7,
    D28_7,
    D29_7,
    D30_7,
    D31_7,
    K28_0,
    K28_1,
    K28_2,
    K28_3,
    K28_4,
    K28_5,
    K28_6,
    K28_7,
    K23_7,
    K27_7,
    K29_7,
    K30_7,
}

impl std::fmt::Display for Codegroup {
    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
        use Codegroup::*;
        match self {
            D0_0 => write!(f, "D0.0"),
            D1_0 => write!(f, "D1.0"),
            D2_0 => write!(f, "D2.0"),
            D3_0 => write!(f, "D3.0"),
            D4_0 => write!(f, "D4.0"),
            D5_0 => write!(f, "D5.0"),
            D6_0 => write!(f, "D6.0"),
            D7_0 => write!(f, "D7.0"),
            D8_0 => write!(f, "D8.0"),
            D9_0 => write!(f, "D9.0"),
            D10_0 => write!(f, "D10.0"),
            D11_0 => write!(f, "D11.0"),
            D12_0 => write!(f, "D12.0"),
            D13_0 => write!(f, "D13.0"),
            D14_0 => write!(f, "D14.0"),
            D15_0 => write!(f, "D15.0"),
            D16_0 => write!(f, "D16.0"),
            D17_0 => write!(f, "D17.0"),
            D18_0 => write!(f, "D18.0"),
            D19_0 => write!(f, "D19.0"),
            D20_0 => write!(f, "D20.0"),
            D21_0 => write!(f, "D21.0"),
            D22_0 => write!(f, "D22.0"),
            D23_0 => write!(f, "D23.0"),
            D24_0 => write!(f, "D24.0"),
            D25_0 => write!(f, "D25.0"),
            D26_0 => write!(f, "D26.0"),
            D27_0 => write!(f, "D27.0"),
            D28_0 => write!(f, "D28.0"),
            D29_0 => write!(f, "D29.0"),
            D30_0 => write!(f, "D30.0"),
            D31_0 => write!(f, "D31.0"),
            D0_1 => write!(f, "D0.1"),
            D1_1 => write!(f, "D1.1"),
            D2_1 => write!(f, "D2.1"),
            D3_1 => write!(f, "D3.1"),
            D4_1 => write!(f, "D4.1"),
            D5_1 => write!(f, "D5.1"),
            D6_1 => write!(f, "D6.1"),
            D7_1 => write!(f, "D7.1"),
            D8_1 => write!(f, "D8.1"),
            D9_1 => write!(f, "D9.1"),
            D10_1 => write!(f, "D10.1"),
            D11_1 => write!(f, "D11.1"),
            D12_1 => write!(f, "D12.1"),
            D13_1 => write!(f, "D13.1"),
            D14_1 => write!(f, "D14.1"),
            D15_1 => write!(f, "D15.1"),
            D16_1 => write!(f, "D16.1"),
            D17_1 => write!(f, "D17.1"),
            D18_1 => write!(f, "D18.1"),
            D19_1 => write!(f, "D19.1"),
            D20_1 => write!(f, "D20.1"),
            D21_1 => write!(f, "D21.1"),
            D22_1 => write!(f, "D22.1"),
            D23_1 => write!(f, "D23.1"),
            D24_1 => write!(f, "D24.1"),
            D25_1 => write!(f, "D25.1"),
            D26_1 => write!(f, "D26.1"),
            D27_1 => write!(f, "D27.1"),
            D28_1 => write!(f, "D28.1"),
            D29_1 => write!(f, "D29.1"),
            D30_1 => write!(f, "D30.1"),
            D31_1 => write!(f, "D31.1"),
            D0_2 => write!(f, "D0.2"),
            D1_2 => write!(f, "D1.2"),
            D2_2 => write!(f, "D2.2"),
            D3_2 => write!(f, "D3.2"),
            D4_2 => write!(f, "D4.2"),
            D5_2 => write!(f, "D5.2"),
            D6_2 => write!(f, "D6.2"),
            D7_2 => write!(f, "D7.2"),
            D8_2 => write!(f, "D8.2"),
            D9_2 => write!(f, "D9.2"),
            D10_2 => write!(f, "D10.2"),
            D11_2 => write!(f, "D11.2"),
            D12_2 => write!(f, "D12.2"),
            D13_2 => write!(f, "D13.2"),
            D14_2 => write!(f, "D14.2"),
            D15_2 => write!(f, "D15.2"),
            D16_2 => write!(f, "D16.2"),
            D17_2 => write!(f, "D17.2"),
            D18_2 => write!(f, "D18.2"),
            D19_2 => write!(f, "D19.2"),
            D20_2 => write!(f, "D20.2"),
            D21_2 => write!(f, "D21.2"),
            D22_2 => write!(f, "D22.2"),
            D23_2 => write!(f, "D23.2"),
            D24_2 => write!(f, "D24.2"),
            D25_2 => write!(f, "D25.2"),
            D26_2 => write!(f, "D26.2"),
            D27_2 => write!(f, "D27.2"),
            D28_2 => write!(f, "D28.2"),
            D29_2 => write!(f, "D29.2"),
            D30_2 => write!(f, "D30.2"),
            D31_2 => write!(f, "D31.2"),
            D0_3 => write!(f, "D0.3"),
            D1_3 => write!(f, "D1.3"),
            D2_3 => write!(f, "D2.3"),
            D3_3 => write!(f, "D3.3"),
            D4_3 => write!(f, "D4.3"),
            D5_3 => write!(f, "D5.3"),
            D6_3 => write!(f, "D6.3"),
            D7_3 => write!(f, "D7.3"),
            D8_3 => write!(f, "D8.3"),
            D9_3 => write!(f, "D9.3"),
            D10_3 => write!(f, "D10.3"),
            D11_3 => write!(f, "D11.3"),
            D12_3 => write!(f, "D12.3"),
            D13_3 => write!(f, "D13.3"),
            D14_3 => write!(f, "D14.3"),
            D15_3 => write!(f, "D15.3"),
            D16_3 => write!(f, "D16.3"),
            D17_3 => write!(f, "D17.3"),
            D18_3 => write!(f, "D18.3"),
            D19_3 => write!(f, "D19.3"),
            D20_3 => write!(f, "D20.3"),
            D21_3 => write!(f, "D21.3"),
            D22_3 => write!(f, "D22.3"),
            D23_3 => write!(f, "D23.3"),
            D24_3 => write!(f, "D24.3"),
            D25_3 => write!(f, "D25.3"),
            D26_3 => write!(f, "D26.3"),
            D27_3 => write!(f, "D27.3"),
            D28_3 => write!(f, "D28.3"),
            D29_3 => write!(f, "D29.3"),
            D30_3 => write!(f, "D30.3"),
            D31_3 => write!(f, "D31.3"),
            D0_4 => write!(f, "D0.4"),
            D1_4 => write!(f, "D1.4"),
            D2_4 => write!(f, "D2.4"),
            D3_4 => write!(f, "D3.4"),
            D4_4 => write!(f, "D4.4"),
            D5_4 => write!(f, "D5.4"),
            D6_4 => write!(f, "D6.4"),
            D7_4 => write!(f, "D7.4"),
            D8_4 => write!(f, "D8.4"),
            D9_4 => write!(f, "D9.4"),
            D10_4 => write!(f, "D10.4"),
            D11_4 => write!(f, "D11.4"),
            D12_4 => write!(f, "D12.4"),
            D13_4 => write!(f, "D13.4"),
            D14_4 => write!(f, "D14.4"),
            D15_4 => write!(f, "D15.4"),
            D16_4 => write!(f, "D16.4"),
            D17_4 => write!(f, "D17.4"),
            D18_4 => write!(f, "D18.4"),
            D19_4 => write!(f, "D19.4"),
            D20_4 => write!(f, "D20.4"),
            D21_4 => write!(f, "D21.4"),
            D22_4 => write!(f, "D22.4"),
            D23_4 => write!(f, "D23.4"),
            D24_4 => write!(f, "D24.4"),
            D25_4 => write!(f, "D25.4"),
            D26_4 => write!(f, "D26.4"),
            D27_4 => write!(f, "D27.4"),
            D28_4 => write!(f, "D28.4"),
            D29_4 => write!(f, "D29.4"),
            D30_4 => write!(f, "D30.4"),
            D31_4 => write!(f, "D31.4"),
            D0_5 => write!(f, "D0.5"),
            D1_5 => write!(f, "D1.5"),
            D2_5 => write!(f, "D2.5"),
            D3_5 => write!(f, "D3.5"),
            D4_5 => write!(f, "D4.5"),
            D5_5 => write!(f, "D5.5"),
            D6_5 => write!(f, "D6.5"),
            D7_5 => write!(f, "D7.5"),
            D8_5 => write!(f, "D8.5"),
            D9_5 => write!(f, "D9.5"),
            D10_5 => write!(f, "D10.5"),
            D11_5 => write!(f, "D11.5"),
            D12_5 => write!(f, "D12.5"),
            D13_5 => write!(f, "D13.5"),
            D14_5 => write!(f, "D14.5"),
            D15_5 => write!(f, "D15.5"),
            D16_5 => write!(f, "D16.5"),
            D17_5 => write!(f, "D17.5"),
            D18_5 => write!(f, "D18.5"),
            D19_5 => write!(f, "D19.5"),
            D20_5 => write!(f, "D20.5"),
            D21_5 => write!(f, "D21.5"),
            D22_5 => write!(f, "D22.5"),
            D23_5 => write!(f, "D23.5"),
            D24_5 => write!(f, "D24.5"),
            D25_5 => write!(f, "D25.5"),
            D26_5 => write!(f, "D26.5"),
            D27_5 => write!(f, "D27.5"),
            D28_5 => write!(f, "D28.5"),
            D29_5 => write!(f, "D29.5"),
            D30_5 => write!(f, "D30.5"),
            D31_5 => write!(f, "D31.5"),
            D0_6 => write!(f, "D0.6"),
            D1_6 => write!(f, "D1.6"),
            D2_6 => write!(f, "D2.6"),
            D3_6 => write!(f, "D3.6"),
            D4_6 => write!(f, "D4.6"),
            D5_6 => write!(f, "D5.6"),
            D6_6 => write!(f, "D6.6"),
            D7_6 => write!(f, "D7.6"),
            D8_6 => write!(f, "D8.6"),
            D9_6 => write!(f, "D9.6"),
            D10_6 => write!(f, "D10.6"),
            D11_6 => write!(f, "D11.6"),
            D12_6 => write!(f, "D12.6"),
            D13_6 => write!(f, "D13.6"),
            D14_6 => write!(f, "D14.6"),
            D15_6 => write!(f, "D15.6"),
            D16_6 => write!(f, "D16.6"),
            D17_6 => write!(f, "D17.6"),
            D18_6 => write!(f, "D18.6"),
            D19_6 => write!(f, "D19.6"),
            D20_6 => write!(f, "D20.6"),
            D21_6 => write!(f, "D21.6"),
            D22_6 => write!(f, "D22.6"),
            D23_6 => write!(f, "D23.6"),
            D24_6 => write!(f, "D24.6"),
            D25_6 => write!(f, "D25.6"),
            D26_6 => write!(f, "D26.6"),
            D27_6 => write!(f, "D27.6"),
            D28_6 => write!(f, "D28.6"),
            D29_6 => write!(f, "D29.6"),
            D30_6 => write!(f, "D30.6"),
            D31_6 => write!(f, "D31.6"),
            D0_7 => write!(f, "D0.7"),
            D1_7 => write!(f, "D1.7"),
            D2_7 => write!(f, "D2.7"),
            D3_7 => write!(f, "D3.7"),
            D4_7 => write!(f, "D4.7"),
            D5_7 => write!(f, "D5.7"),
            D6_7 => write!(f, "D6.7"),
            D7_7 => write!(f, "D7.7"),
            D8_7 => write!(f, "D8.7"),
            D9_7 => write!(f, "D9.7"),
            D10_7 => write!(f, "D10.7"),
            D11_7 => write!(f, "D11.7"),
            D12_7 => write!(f, "D12.7"),
            D13_7 => write!(f, "D13.7"),
            D14_7 => write!(f, "D14.7"),
            D15_7 => write!(f, "D15.7"),
            D16_7 => write!(f, "D16.7"),
            D17_7 => write!(f, "D17.7"),
            D18_7 => write!(f, "D18.7"),
            D19_7 => write!(f, "D19.7"),
            D20_7 => write!(f, "D20.7"),
            D21_7 => write!(f, "D21.7"),
            D22_7 => write!(f, "D22.7"),
            D23_7 => write!(f, "D23.7"),
            D24_7 => write!(f, "D24.7"),
            D25_7 => write!(f, "D25.7"),
            D26_7 => write!(f, "D26.7"),
            D27_7 => write!(f, "D27.7"),
            D28_7 => write!(f, "D28.7"),
            D29_7 => write!(f, "D29.7"),
            D30_7 => write!(f, "D30.7"),
            D31_7 => write!(f, "D31.7"),
            K28_0 => write!(f, "K28.0"),
            K28_1 => write!(f, "K28.1"),
            K28_2 => write!(f, "K28.2"),
            K28_3 => write!(f, "K28.3"),
            K28_4 => write!(f, "K28.4"),
            K28_5 => write!(f, "K28.5"),
            K28_6 => write!(f, "K28.6"),
            K28_7 => write!(f, "K28.7"),
            K23_7 => write!(f, "K23.7"),
            K27_7 => write!(f, "K27.7"),
            K29_7 => write!(f, "K29.7"),
            K30_7 => write!(f, "K30.7"),
        }
    }
}

impl Codegroup {
    /// Returns `true` if this is a Dx.y code-group
    pub fn is_data(&self) -> bool {
        use Codegroup::*;
        match self {
            D0_0 | D1_0 | D2_0 | D3_0 | D4_0 | D5_0 | D6_0 | D7_0 | D8_0
            | D9_0 | D10_0 | D11_0 | D12_0 | D13_0 | D14_0 | D15_0 | D16_0
            | D17_0 | D18_0 | D19_0 | D20_0 | D21_0 | D22_0 | D23_0 | D24_0
            | D25_0 | D26_0 | D27_0 | D28_0 | D29_0 | D30_0 | D31_0 | D0_1
            | D1_1 | D2_1 | D3_1 | D4_1 | D5_1 | D6_1 | D7_1 | D8_1 | D9_1
            | D10_1 | D11_1 | D12_1 | D13_1 | D14_1 | D15_1 | D16_1 | D17_1
            | D18_1 | D19_1 | D20_1 | D21_1 | D22_1 | D23_1 | D24_1 | D25_1
            | D26_1 | D27_1 | D28_1 | D29_1 | D30_1 | D31_1 | D0_2 | D1_2
            | D2_2 | D3_2 | D4_2 | D5_2 | D6_2 | D7_2 | D8_2 | D9_2 | D10_2
            | D11_2 | D12_2 | D13_2 | D14_2 | D15_2 | D16_2 | D17_2 | D18_2
            | D19_2 | D20_2 | D21_2 | D22_2 | D23_2 | D24_2 | D25_2 | D26_2
            | D27_2 | D28_2 | D29_2 | D30_2 | D31_2 | D0_3 | D1_3 | D2_3
            | D3_3 | D4_3 | D5_3 | D6_3 | D7_3 | D8_3 | D9_3 | D10_3
            | D11_3 | D12_3 | D13_3 | D14_3 | D15_3 | D16_3 | D17_3 | D18_3
            | D19_3 | D20_3 | D21_3 | D22_3 | D23_3 | D24_3 | D25_3 | D26_3
            | D27_3 | D28_3 | D29_3 | D30_3 | D31_3 | D0_4 | D1_4 | D2_4
            | D3_4 | D4_4 | D5_4 | D6_4 | D7_4 | D8_4 | D9_4 | D10_4
            | D11_4 | D12_4 | D13_4 | D14_4 | D15_4 | D16_4 | D17_4 | D18_4
            | D19_4 | D20_4 | D21_4 | D22_4 | D23_4 | D24_4 | D25_4 | D26_4
            | D27_4 | D28_4 | D29_4 | D30_4 | D31_4 | D0_5 | D1_5 | D2_5
            | D3_5 | D4_5 | D5_5 | D6_5 | D7_5 | D8_5 | D9_5 | D10_5
            | D11_5 | D12_5 | D13_5 | D14_5 | D15_5 | D16_5 | D17_5 | D18_5
            | D19_5 | D20_5 | D21_5 | D22_5 | D23_5 | D24_5 | D25_5 | D26_5
            | D27_5 | D28_5 | D29_5 | D30_5 | D31_5 | D0_6 | D1_6 | D2_6
            | D3_6 | D4_6 | D5_6 | D6_6 | D7_6 | D8_6 | D9_6 | D10_6
            | D11_6 | D12_6 | D13_6 | D14_6 | D15_6 | D16_6 | D17_6 | D18_6
            | D19_6 | D20_6 | D21_6 | D22_6 | D23_6 | D24_6 | D25_6 | D26_6
            | D27_6 | D28_6 | D29_6 | D30_6 | D31_6 | D0_7 | D1_7 | D2_7
            | D3_7 | D4_7 | D5_7 | D6_7 | D7_7 | D8_7 | D9_7 | D10_7
            | D11_7 | D12_7 | D13_7 | D14_7 | D15_7 | D16_7 | D17_7 | D18_7
            | D19_7 | D20_7 | D21_7 | D22_7 | D23_7 | D24_7 | D25_7 | D26_7
            | D27_7 | D28_7 | D29_7 | D30_7 | D31_7 => true,

            K28_0 | K28_1 | K28_2 | K28_3 | K28_4 | K28_5 | K28_6 | K28_7
            | K23_7 | K27_7 | K29_7 | K30_7 => false,
        }
    }
}

impl From<Codegroup> for u8 {
    fn from(c: Codegroup) -> Self {
        use Codegroup::*;
        match c {
            D0_0 => 0x00,
            D1_0 => 0x01,
            D2_0 => 0x02,
            D3_0 => 0x03,
            D4_0 => 0x04,
            D5_0 => 0x05,
            D6_0 => 0x06,
            D7_0 => 0x07,
            D8_0 => 0x08,
            D9_0 => 0x09,
            D10_0 => 0x0A,
            D11_0 => 0x0B,
            D12_0 => 0x0C,
            D13_0 => 0x0D,
            D14_0 => 0x0E,
            D15_0 => 0x0F,
            D16_0 => 0x10,
            D17_0 => 0x11,
            D18_0 => 0x12,
            D19_0 => 0x13,
            D20_0 => 0x14,
            D21_0 => 0x15,
            D22_0 => 0x16,
            D23_0 => 0x17,
            D24_0 => 0x18,
            D25_0 => 0x19,
            D26_0 => 0x1A,
            D27_0 => 0x1B,
            D28_0 => 0x1C,
            D29_0 => 0x1D,
            D30_0 => 0x1E,
            D31_0 => 0x1F,
            D0_1 => 0x20,
            D1_1 => 0x21,
            D2_1 => 0x22,
            D3_1 => 0x23,
            D4_1 => 0x24,
            D5_1 => 0x25,
            D6_1 => 0x26,
            D7_1 => 0x27,
            D8_1 => 0x28,
            D9_1 => 0x29,
            D10_1 => 0x2A,
            D11_1 => 0x2B,
            D12_1 => 0x2C,
            D13_1 => 0x2D,
            D14_1 => 0x2E,
            D15_1 => 0x2F,
            D16_1 => 0x30,
            D17_1 => 0x31,
            D18_1 => 0x32,
            D19_1 => 0x33,
            D20_1 => 0x34,
            D21_1 => 0x35,
            D22_1 => 0x36,
            D23_1 => 0x37,
            D24_1 => 0x38,
            D25_1 => 0x39,
            D26_1 => 0x3A,
            D27_1 => 0x3B,
            D28_1 => 0x3C,
            D29_1 => 0x3D,
            D30_1 => 0x3E,
            D31_1 => 0x3F,
            D0_2 => 0x40,
            D1_2 => 0x41,
            D2_2 => 0x42,
            D3_2 => 0x43,
            D4_2 => 0x44,
            D5_2 => 0x45,
            D6_2 => 0x46,
            D7_2 => 0x47,
            D8_2 => 0x48,
            D9_2 => 0x49,
            D10_2 => 0x4A,
            D11_2 => 0x4B,
            D12_2 => 0x4C,
            D13_2 => 0x4D,
            D14_2 => 0x4E,
            D15_2 => 0x4F,
            D16_2 => 0x50,
            D17_2 => 0x51,
            D18_2 => 0x52,
            D19_2 => 0x53,
            D20_2 => 0x54,
            D21_2 => 0x55,
            D22_2 => 0x56,
            D23_2 => 0x57,
            D24_2 => 0x58,
            D25_2 => 0x59,
            D26_2 => 0x5A,
            D27_2 => 0x5B,
            D28_2 => 0x5C,
            D29_2 => 0x5D,
            D30_2 => 0x5E,
            D31_2 => 0x5F,
            D0_3 => 0x60,
            D1_3 => 0x61,
            D2_3 => 0x62,
            D3_3 => 0x63,
            D4_3 => 0x64,
            D5_3 => 0x65,
            D6_3 => 0x66,
            D7_3 => 0x67,
            D8_3 => 0x68,
            D9_3 => 0x69,
            D10_3 => 0x6A,
            D11_3 => 0x6B,
            D12_3 => 0x6C,
            D13_3 => 0x6D,
            D14_3 => 0x6E,
            D15_3 => 0x6F,
            D16_3 => 0x70,
            D17_3 => 0x71,
            D18_3 => 0x72,
            D19_3 => 0x73,
            D20_3 => 0x74,
            D21_3 => 0x75,
            D22_3 => 0x76,
            D23_3 => 0x77,
            D24_3 => 0x78,
            D25_3 => 0x79,
            D26_3 => 0x7A,
            D27_3 => 0x7B,
            D28_3 => 0x7C,
            D29_3 => 0x7D,
            D30_3 => 0x7E,
            D31_3 => 0x7F,
            D0_4 => 0x80,
            D1_4 => 0x81,
            D2_4 => 0x82,
            D3_4 => 0x83,
            D4_4 => 0x84,
            D5_4 => 0x85,
            D6_4 => 0x86,
            D7_4 => 0x87,
            D8_4 => 0x88,
            D9_4 => 0x89,
            D10_4 => 0x8A,
            D11_4 => 0x8B,
            D12_4 => 0x8C,
            D13_4 => 0x8D,
            D14_4 => 0x8E,
            D15_4 => 0x8F,
            D16_4 => 0x90,
            D17_4 => 0x91,
            D18_4 => 0x92,
            D19_4 => 0x93,
            D20_4 => 0x94,
            D21_4 => 0x95,
            D22_4 => 0x96,
            D23_4 => 0x97,
            D24_4 => 0x98,
            D25_4 => 0x99,
            D26_4 => 0x9A,
            D27_4 => 0x9B,
            D28_4 => 0x9C,
            D29_4 => 0x9D,
            D30_4 => 0x9E,
            D31_4 => 0x9F,
            D0_5 => 0xA0,
            D1_5 => 0xA1,
            D2_5 => 0xA2,
            D3_5 => 0xA3,
            D4_5 => 0xA4,
            D5_5 => 0xA5,
            D6_5 => 0xA6,
            D7_5 => 0xA7,
            D8_5 => 0xA8,
            D9_5 => 0xA9,
            D10_5 => 0xAA,
            D11_5 => 0xAB,
            D12_5 => 0xAC,
            D13_5 => 0xAD,
            D14_5 => 0xAE,
            D15_5 => 0xAF,
            D16_5 => 0xB0,
            D17_5 => 0xB1,
            D18_5 => 0xB2,
            D19_5 => 0xB3,
            D20_5 => 0xB4,
            D21_5 => 0xB5,
            D22_5 => 0xB6,
            D23_5 => 0xB7,
            D24_5 => 0xB8,
            D25_5 => 0xB9,
            D26_5 => 0xBA,
            D27_5 => 0xBB,
            D28_5 => 0xBC,
            D29_5 => 0xBD,
            D30_5 => 0xBE,
            D31_5 => 0xBF,
            D0_6 => 0xC0,
            D1_6 => 0xC1,
            D2_6 => 0xC2,
            D3_6 => 0xC3,
            D4_6 => 0xC4,
            D5_6 => 0xC5,
            D6_6 => 0xC6,
            D7_6 => 0xC7,
            D8_6 => 0xC8,
            D9_6 => 0xC9,
            D10_6 => 0xCA,
            D11_6 => 0xCB,
            D12_6 => 0xCC,
            D13_6 => 0xCD,
            D14_6 => 0xCE,
            D15_6 => 0xCF,
            D16_6 => 0xD0,
            D17_6 => 0xD1,
            D18_6 => 0xD2,
            D19_6 => 0xD3,
            D20_6 => 0xD4,
            D21_6 => 0xD5,
            D22_6 => 0xD6,
            D23_6 => 0xD7,
            D24_6 => 0xD8,
            D25_6 => 0xD9,
            D26_6 => 0xDA,
            D27_6 => 0xDB,
            D28_6 => 0xDC,
            D29_6 => 0xDD,
            D30_6 => 0xDE,
            D31_6 => 0xDF,
            D0_7 => 0xE0,
            D1_7 => 0xE1,
            D2_7 => 0xE2,
            D3_7 => 0xE3,
            D4_7 => 0xE4,
            D5_7 => 0xE5,
            D6_7 => 0xE6,
            D7_7 => 0xE7,
            D8_7 => 0xE8,
            D9_7 => 0xE9,
            D10_7 => 0xEA,
            D11_7 => 0xEB,
            D12_7 => 0xEC,
            D13_7 => 0xED,
            D14_7 => 0xEE,
            D15_7 => 0xEF,
            D16_7 => 0xF0,
            D17_7 => 0xF1,
            D18_7 => 0xF2,
            D19_7 => 0xF3,
            D20_7 => 0xF4,
            D21_7 => 0xF5,
            D22_7 => 0xF6,
            D23_7 => 0xF7,
            D24_7 => 0xF8,
            D25_7 => 0xF9,
            D26_7 => 0xFA,
            D27_7 => 0xFB,
            D28_7 => 0xFC,
            D29_7 => 0xFD,
            D30_7 => 0xFE,
            D31_7 => 0xFF,
            K28_0 => 0x1C,
            K28_1 => 0x3C,
            K28_2 => 0x5C,
            K28_3 => 0x7C,
            K28_4 => 0x9C,
            K28_5 => 0xBC,
            K28_6 => 0xDC,
            K28_7 => 0xFC,
            K23_7 => 0xF7,
            K27_7 => 0xFB,
            K29_7 => 0xFD,
            K30_7 => 0xFE,
        }
    }
}

impl TryFrom<u16> for Codegroup {
    type Error = ();
    fn try_from(value: u16) -> Result<Self, Self::Error> {
        use Codegroup::*;
        let out = match value {
            0b100111_0100 | 0b011000_1011 => D0_0,
            0b011101_0100 | 0b100010_1011 => D1_0,
            0b101101_0100 | 0b010010_1011 => D2_0,
            0b110001_1011 | 0b110001_0100 => D3_0,
            0b110101_0100 | 0b001010_1011 => D4_0,
            0b101001_1011 | 0b101001_0100 => D5_0,
            0b011001_1011 | 0b011001_0100 => D6_0,
            0b111000_1011 | 0b000111_0100 => D7_0,
            0b111001_0100 | 0b000110_1011 => D8_0,
            0b100101_1011 | 0b100101_0100 => D9_0,
            0b010101_1011 | 0b010101_0100 => D10_0,
            0b110100_1011 | 0b110100_0100 => D11_0,
            0b001101_1011 | 0b001101_0100 => D12_0,
            0b101100_1011 | 0b101100_0100 => D13_0,
            0b011100_1011 | 0b011100_0100 => D14_0,
            0b010111_0100 | 0b101000_1011 => D15_0,
            0b011011_0100 | 0b100100_1011 => D16_0,
            0b100011_1011 | 0b100011_0100 => D17_0,
            0b010011_1011 | 0b010011_0100 => D18_0,
            0b110010_1011 | 0b110010_0100 => D19_0,
            0b001011_1011 | 0b001011_0100 => D20_0,
            0b101010_1011 | 0b101010_0100 => D21_0,
            0b011010_1011 | 0b011010_0100 => D22_0,
            0b111010_0100 | 0b000101_1011 => D23_0,
            0b110011_0100 | 0b001100_1011 => D24_0,
            0b100110_1011 | 0b100110_0100 => D25_0,
            0b010110_1011 | 0b010110_0100 => D26_0,
            0b110110_0100 | 0b001001_1011 => D27_0,
            0b001110_1011 | 0b001110_0100 => D28_0,
            0b101110_0100 | 0b010001_1011 => D29_0,
            0b011110_0100 | 0b100001_1011 => D30_0,
            0b101011_0100 | 0b010100_1011 => D31_0,
            0b100111_1001 | 0b011000_1001 => D0_1,
            0b011101_1001 | 0b100010_1001 => D1_1,
            0b101101_1001 | 0b010010_1001 => D2_1,
            0b110001_1001 => D3_1,
            0b110101_1001 | 0b001010_1001 => D4_1,
            0b101001_1001 => D5_1,
            0b011001_1001 => D6_1,
            0b111000_1001 | 0b000111_1001 => D7_1,
            0b111001_1001 | 0b000110_1001 => D8_1,
            0b100101_1001 => D9_1,
            0b010101_1001 => D10_1,
            0b110100_1001 => D11_1,
            0b001101_1001 => D12_1,
            0b101100_1001 => D13_1,
            0b011100_1001 => D14_1,
            0b010111_1001 | 0b101000_1001 => D15_1,
            0b011011_1001 | 0b100100_1001 => D16_1,
            0b100011_1001 => D17_1,
            0b010011_1001 => D18_1,
            0b110010_1001 => D19_1,
            0b001011_1001 => D20_1,
            0b101010_1001 => D21_1,
            0b011010_1001 => D22_1,
            0b111010_1001 | 0b000101_1001 => D23_1,
            0b110011_1001 | 0b001100_1001 => D24_1,
            0b100110_1001 => D25_1,
            0b010110_1001 => D26_1,
            0b110110_1001 | 0b001001_1001 => D27_1,
            0b001110_1001 => D28_1,
            0b101110_1001 | 0b010001_1001 => D29_1,
            0b011110_1001 | 0b100001_1001 => D30_1,
            0b101011_1001 | 0b010100_1001 => D31_1,
            0b100111_0101 | 0b011000_0101 => D0_2,
            0b011101_0101 | 0b100010_0101 => D1_2,
            0b101101_0101 | 0b010010_0101 => D2_2,
            0b110001_0101 => D3_2,
            0b110101_0101 | 0b001010_0101 => D4_2,
            0b101001_0101 => D5_2,
            0b011001_0101 => D6_2,
            0b111000_0101 | 0b000111_0101 => D7_2,
            0b111001_0101 | 0b000110_0101 => D8_2,
            0b100101_0101 => D9_2,
            0b010101_0101 => D10_2,
            0b110100_0101 => D11_2,
            0b001101_0101 => D12_2,
            0b101100_0101 => D13_2,
            0b011100_0101 => D14_2,
            0b010111_0101 | 0b101000_0101 => D15_2,
            0b011011_0101 | 0b100100_0101 => D16_2,
            0b100011_0101 => D17_2,
            0b010011_0101 => D18_2,
            0b110010_0101 => D19_2,
            0b001011_0101 => D20_2,
            0b101010_0101 => D21_2,
            0b011010_0101 => D22_2,
            0b111010_0101 | 0b000101_0101 => D23_2,
            0b110011_0101 | 0b001100_0101 => D24_2,
            0b100110_0101 => D25_2,
            0b010110_0101 => D26_2,
            0b110110_0101 | 0b001001_0101 => D27_2,
            0b001110_0101 => D28_2,
            0b101110_0101 | 0b010001_0101 => D29_2,
            0b011110_0101 | 0b100001_0101 => D30_2,
            0b101011_0101 | 0b010100_0101 => D31_2,
            0b100111_0011 | 0b011000_1100 => D0_3,
            0b011101_0011 | 0b100010_1100 => D1_3,
            0b101101_0011 | 0b010010_1100 => D2_3,
            0b110001_1100 | 0b110001_0011 => D3_3,
            0b110101_0011 | 0b001010_1100 => D4_3,
            0b101001_1100 | 0b101001_0011 => D5_3,
            0b011001_1100 | 0b011001_0011 => D6_3,
            0b111000_1100 | 0b000111_0011 => D7_3,
            0b111001_0011 | 0b000110_1100 => D8_3,
            0b100101_1100 | 0b100101_0011 => D9_3,
            0b010101_1100 | 0b010101_0011 => D10_3,
            0b110100_1100 | 0b110100_0011 => D11_3,
            0b001101_1100 | 0b001101_0011 => D12_3,
            0b101100_1100 | 0b101100_0011 => D13_3,
            0b011100_1100 | 0b011100_0011 => D14_3,
            0b010111_0011 | 0b101000_1100 => D15_3,
            0b011011_0011 | 0b100100_1100 => D16_3,
            0b100011_1100 | 0b100011_0011 => D17_3,
            0b010011_1100 | 0b010011_0011 => D18_3,
            0b110010_1100 | 0b110010_0011 => D19_3,
            0b001011_1100 | 0b001011_0011 => D20_3,
            0b101010_1100 | 0b101010_0011 => D21_3,
            0b011010_1100 | 0b011010_0011 => D22_3,
            0b111010_0011 | 0b000101_1100 => D23_3,
            0b110011_0011 | 0b001100_1100 => D24_3,
            0b100110_1100 | 0b100110_0011 => D25_3,
            0b010110_1100 | 0b010110_0011 => D26_3,
            0b110110_0011 | 0b001001_1100 => D27_3,
            0b001110_1100 | 0b001110_0011 => D28_3,
            0b101110_0011 | 0b010001_1100 => D29_3,
            0b011110_0011 | 0b100001_1100 => D30_3,
            0b101011_0011 | 0b010100_1100 => D31_3,
            0b100111_0010 | 0b011000_1101 => D0_4,
            0b011101_0010 | 0b100010_1101 => D1_4,
            0b101101_0010 | 0b010010_1101 => D2_4,
            0b110001_1101 | 0b110001_0010 => D3_4,
            0b110101_0010 | 0b001010_1101 => D4_4,
            0b101001_1101 | 0b101001_0010 => D5_4,
            0b011001_1101 | 0b011001_0010 => D6_4,
            0b111000_1101 | 0b000111_0010 => D7_4,
            0b111001_0010 | 0b000110_1101 => D8_4,
            0b100101_1101 | 0b100101_0010 => D9_4,
            0b010101_1101 | 0b010101_0010 => D10_4,
            0b110100_1101 | 0b110100_0010 => D11_4,
            0b001101_1101 | 0b001101_0010 => D12_4,
            0b101100_1101 | 0b101100_0010 => D13_4,
            0b011100_1101 | 0b011100_0010 => D14_4,
            0b010111_0010 | 0b101000_1101 => D15_4,
            0b011011_0010 | 0b100100_1101 => D16_4,
            0b100011_1101 | 0b100011_0010 => D17_4,
            0b010011_1101 | 0b010011_0010 => D18_4,
            0b110010_1101 | 0b110010_0010 => D19_4,
            0b001011_1101 | 0b001011_0010 => D20_4,
            0b101010_1101 | 0b101010_0010 => D21_4,
            0b011010_1101 | 0b011010_0010 => D22_4,
            0b111010_0010 | 0b000101_1101 => D23_4,
            0b110011_0010 | 0b001100_1101 => D24_4,
            0b100110_1101 | 0b100110_0010 => D25_4,
            0b010110_1101 | 0b010110_0010 => D26_4,
            0b110110_0010 | 0b001001_1101 => D27_4,
            0b001110_1101 | 0b001110_0010 => D28_4,
            0b101110_0010 | 0b010001_1101 => D29_4,
            0b011110_0010 | 0b100001_1101 => D30_4,
            0b101011_0010 | 0b010100_1101 => D31_4,
            0b100111_1010 | 0b011000_1010 => D0_5,
            0b011101_1010 | 0b100010_1010 => D1_5,
            0b101101_1010 | 0b010010_1010 => D2_5,
            0b110001_1010 => D3_5,
            0b110101_1010 | 0b001010_1010 => D4_5,
            0b101001_1010 => D5_5,
            0b011001_1010 => D6_5,
            0b111000_1010 | 0b000111_1010 => D7_5,
            0b111001_1010 | 0b000110_1010 => D8_5,
            0b100101_1010 => D9_5,
            0b010101_1010 => D10_5,
            0b110100_1010 => D11_5,
            0b001101_1010 => D12_5,
            0b101100_1010 => D13_5,
            0b011100_1010 => D14_5,
            0b010111_1010 | 0b101000_1010 => D15_5,
            0b011011_1010 | 0b100100_1010 => D16_5,
            0b100011_1010 => D17_5,
            0b010011_1010 => D18_5,
            0b110010_1010 => D19_5,
            0b001011_1010 => D20_5,
            0b101010_1010 => D21_5,
            0b011010_1010 => D22_5,
            0b111010_1010 | 0b000101_1010 => D23_5,
            0b110011_1010 | 0b001100_1010 => D24_5,
            0b100110_1010 => D25_5,
            0b010110_1010 => D26_5,
            0b110110_1010 | 0b001001_1010 => D27_5,
            0b001110_1010 => D28_5,
            0b101110_1010 | 0b010001_1010 => D29_5,
            0b011110_1010 | 0b100001_1010 => D30_5,
            0b101011_1010 | 0b010100_1010 => D31_5,
            0b100111_0110 | 0b011000_0110 => D0_6,
            0b011101_0110 | 0b100010_0110 => D1_6,
            0b101101_0110 | 0b010010_0110 => D2_6,
            0b110001_0110 => D3_6,
            0b110101_0110 | 0b001010_0110 => D4_6,
            0b101001_0110 => D5_6,
            0b011001_0110 => D6_6,
            0b111000_0110 | 0b000111_0110 => D7_6,
            0b111001_0110 | 0b000110_0110 => D8_6,
            0b100101_0110 => D9_6,
            0b010101_0110 => D10_6,
            0b110100_0110 => D11_6,
            0b001101_0110 => D12_6,
            0b101100_0110 => D13_6,
            0b011100_0110 => D14_6,
            0b010111_0110 | 0b101000_0110 => D15_6,
            0b011011_0110 | 0b100100_0110 => D16_6,
            0b100011_0110 => D17_6,
            0b010011_0110 => D18_6,
            0b110010_0110 => D19_6,
            0b001011_0110 => D20_6,
            0b101010_0110 => D21_6,
            0b011010_0110 => D22_6,
            0b111010_0110 | 0b000101_0110 => D23_6,
            0b110011_0110 | 0b001100_0110 => D24_6,
            0b100110_0110 => D25_6,
            0b010110_0110 => D26_6,
            0b110110_0110 | 0b001001_0110 => D27_6,
            0b001110_0110 => D28_6,
            0b101110_0110 | 0b010001_0110 => D29_6,
            0b011110_0110 | 0b100001_0110 => D30_6,
            0b101011_0110 | 0b010100_0110 => D31_6,
            0b100111_0001 | 0b011000_1110 => D0_7,
            0b011101_0001 | 0b100010_1110 => D1_7,
            0b101101_0001 | 0b010010_1110 => D2_7,
            0b110001_1110 | 0b110001_0001 => D3_7,
            0b110101_0001 | 0b001010_1110 => D4_7,
            0b101001_1110 | 0b101001_0001 => D5_7,
            0b011001_1110 | 0b011001_0001 => D6_7,
            0b111000_1110 | 0b000111_0001 => D7_7,
            0b111001_0001 | 0b000110_1110 => D8_7,
            0b100101_1110 | 0b100101_0001 => D9_7,
            0b010101_1110 | 0b010101_0001 => D10_7,
            0b110100_1110 | 0b110100_1000 => D11_7,
            0b001101_1110 | 0b001101_0001 => D12_7,
            0b101100_1110 | 0b101100_1000 => D13_7,
            0b011100_1110 | 0b011100_1000 => D14_7,
            0b010111_0001 | 0b101000_1110 => D15_7,
            0b011011_0001 | 0b100100_1110 => D16_7,
            0b100011_0111 | 0b100011_0001 => D17_7,
            0b010011_0111 | 0b010011_0001 => D18_7,
            0b110010_1110 | 0b110010_0001 => D19_7,
            0b001011_0111 | 0b001011_0001 => D20_7,
            0b101010_1110 | 0b101010_0001 => D21_7,
            0b011010_1110 | 0b011010_0001 => D22_7,
            0b111010_0001 | 0b000101_1110 => D23_7,
            0b110011_0001 | 0b001100_1110 => D24_7,
            0b100110_1110 | 0b100110_0001 => D25_7,
            0b010110_1110 | 0b010110_0001 => D26_7,
            0b110110_0001 | 0b001001_1110 => D27_7,
            0b001110_1110 | 0b001110_0001 => D28_7,
            0b101110_0001 | 0b010001_1110 => D29_7,
            0b011110_0001 | 0b100001_1110 => D30_7,
            0b101011_0001 | 0b010100_1110 => D31_7,
            0b001111_0100 | 0b110000_1011 => K28_0,
            0b001111_1001 | 0b110000_0110 => K28_1,
            0b001111_0101 | 0b110000_1010 => K28_2,
            0b001111_0011 | 0b110000_1100 => K28_3,
            0b001111_0010 | 0b110000_1101 => K28_4,
            0b001111_1010 | 0b110000_0101 => K28_5,
            0b001111_0110 | 0b110000_1001 => K28_6,
            0b001111_1000 | 0b110000_0111 => K28_7,
            0b111010_1000 | 0b000101_0111 => K23_7,
            0b110110_1000 | 0b001001_0111 => K27_7,
            0b101110_1000 | 0b010001_0111 => K29_7,
            0b011110_1000 | 0b100001_0111 => K30_7,
            _ => return Err(()),
        };
        Ok(out)
    }
}
